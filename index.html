        // Enter key for intent
        document.getElementById('intentInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                processIntent();
            }
        });

        // Switch search type
        function switchSearchType(type) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.search-type').forEach(section => section.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(type + 'Search').classList.add('active');
        }

        // Hotel Search
        async function searchHotels() {
            const city = document.getElementById('hotelCity').value.trim();
            const checkIn = document.getElementById('checkIn').value;
            const checkOut = document.getElementById('checkOut').value;
            const guests = document.getElementById('guests').value;

            if (!city || !checkIn || !checkOut) {
                alert('Please fill in all required fields.');
                return;
            }

            const resultsDiv = document.getElementById('hotelResults');
            resultsDiv.innerHTML = '<div class="loading">SEARCHING HOTELS</div>';
            
            document.getElementById('hotelSearchBtn').disabled = true;

            // Demo hotel data
            await new Promise(resolve => setTimeout(resolve, 1500));

            const demoHotels = [
                {
                    name: 'Grand Hotel Central',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê',
                    price: '‚Ç¨250',
                    location: 'City Center',
                    amenities: 'Free WiFi ‚Ä¢ Pool ‚Ä¢ Spa ‚Ä¢ Restaurant'
                },
                {
                    name: 'Modern City Suites',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê',
                    price: '‚Ç¨180',
                    location: 'Business District',
                    amenities: 'Free WiFi ‚Ä¢ Gym ‚Ä¢ Business Center'
                },
                {
                    name: 'Budget Express Inn',
                    rating: '‚≠ê‚≠ê‚≠ê',
                    price: '‚Ç¨95',
                    location: 'Near Airport',
                    amenities: 'Free WiFi ‚Ä¢ Parking ‚Ä¢ Breakfast'
                }
            ];

            displayHotels(demoHotels, resultsDiv);
            document.getElementById('hotelSearchBtn').disabled = false;
            
            // Show weather widget
            document.getElementById('weatherWidget').style.display = 'block';
            loadWeather(city);
        }

        function displayHotels(hotels, resultsDiv) {
            let html = '<div class="hotel-results">';
            
            hotels.forEach(hotel => {
                html += `
                    <div class="hotel-card">
                        <div class="hotel-header">
                            <div class="hotel-name">${hotel.name}</div>
                            <div class="hotel-rating">${hotel.rating}</div>
                        </div>
                        <div class="hotel-details">
                            <div style="margin-bottom: 8px;">üìç ${hotel.location}</div>
                            <div>${hotel.amenities}</div>
                        </div>
                        <div class="hotel-price">${hotel.price} <span style="font-size: 14px; color: #888;">/ NIGHT</span></div>
                        <button class="select-flight-btn" onclick="selectHotel('${hotel.name}', '${hotel.price}')">SELECT HOTEL</button>
                    </div>
                `;
            });
            
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        function selectHotel(name, price) {
            addAIMessage(`Excellent choice! The ${name} at ${price}/night has been selected. Would you like me to help you with anything else for your trip?`);
            document.getElementById('itineraryView').style.display = 'block';
        }

        // Weather Integration
        async function loadWeather(city) {
            // Demo weather data
            const weatherData = {
                temp: '22¬∞C',
                desc: 'Partly Cloudy',
                icon: '‚õÖ'
            };

            document.getElementById('weatherTemp').textContent = weatherData.temp;
            document.getElementById('weatherDesc').textContent = weatherData.desc;
            document.getElementById('weatherIcon').textContent = weatherData.icon;
        }

        // Multi-City Search
        let stopCount = 1;

        function addCityStop() {
            stopCount++;
            const stopsContainer = document.getElementById('cityStops');
            
            const stopDiv = document.createElement('div');
            stopDiv.className = 'multi-city-stop';
            stopDiv.innerHTML = `
                <div class="stop-header">
                    <div class="stop-number">STOP ${stopCount}</div>
                    <button class="remove-stop" onclick="removeStop(this)">√ó</button>
                </div>
                <div class="form-group">
                    <label class="form-label">FROM</label>
                    <input type="text" class="stop-from" placeholder="AIRPORT CODE">
                </div>
                <div class="form-group">
                    <label class="form-label">TO</label>
                    <input type="text" class="stop-to" placeholder="AIRPORT CODE">
                </div>
                <div class="form-group">
                    <label class="form-label">DATE</label>
                    <input type="date" class="stop-date">
                </div>
            `;
            
            stopsContainer.appendChild(stopDiv);
        }

        function removeStop(button) {
            button.closest('.multi-city-stop').remove();
            stopCount--;
        }

        async function searchMultiCity() {
            const stops = document.querySelectorAll('.multi-city-stop');
            const routes = [];
            
            stops.forEach((stop, index) => {
                const from = stop.querySelector('.stop-from').value.trim();
                const to = stop.querySelector('.stop-to').value.trim();
                const date = stop.querySelector('.stop-date').value;
                
                if (from && to && date) {
                    routes.push({ from, to, date });
                }
            });

            if (routes.length === 0) {
                alert('Please fill in at least one complete route.');
                return;
            }

            const resultsDiv = document.getElementById('multiResults');
            resultsDiv.innerHTML = '<div class="loading">OPTIMIZING MULTI-CITY ROUTE</div>';
            
            document.getElementById('multiSearchBtn').disabled = true;

            await new Promise(resolve => setTimeout(resolve, 2000));

            let html = '<div class="flight-results" style="margin-top: 30px;">';
            html += '<div style="color: #00ff87; font-size: 14px; font-weight: 900; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px;">üìç YOUR MULTI-CITY ROUTE</div>';
            
            routes.forEach((route, index) => {
                html += `
                    <div class="flight-card">
                        <div class="flight-header">
                            <div class="airline">LEG ${index + 1}: ${route.from} ‚Üí ${route.to}</div>
                            <div class="price">‚Ç¨${120 + (index * 30)}</div>
                        </div>
                        <div class="flight-details">
                            <div>
                                <div class="flight-time">10:00</div>
                                <div class="flight-code">${route.from}</div>
                            </div>
                            <div>
                                <div class="flight-arrow">‚Üí</div>
                                <div class="flight-duration">2H 30M</div>
                            </div>
                            <div>
                                <div class="flight-time">12:30</div>
                                <div class="flight-code">${route.to}</div>
                            </div>
                        </div>
                        <div class="flight-info">
                            <span>${route.date}</span>
                            <span>‚Ä¢ Non-stop</span>
                        </div>
                    </div>
                `;
            });
            
            const totalPrice = routes.reduce((sum, _, index) => sum + (120 + index * 30), 0);
            html += `<div style="text-align: right; margin-top: 20px; font-size: 24px; font-weight: 900; color: #00ff87;">TOTAL: ‚Ç¨${totalPrice}</div>`;
            html += '</div>';
            
            resultsDiv.innerHTML = html;
            document.getElementById('multiSearchBtn').disabled = false;
            
            addAIMessage(`I've found an optimized route for your multi-city trip! The total cost is ‚Ç¨${totalPrice}. Would you like me to help you plan activities for each city?`);
        }

        // Price Tracking
        let priceAlertEnabled = false;

        function togglePriceAlert() {
            priceAlertEnabled = !priceAlertEnabled;
            const button = event.target;
            
            if (priceAlertEnabled) {
                button.textContent = 'ALERTS ON ‚úì';
                button.style.background = '#00ff87';
                addAIMessage('Price alerts enabled! I\'ll notify you when prices drop by 10% or more.');
            } else {
                button.textContent = 'ENABLE ALERTS';
                button.style.background = '#60efff';
            }
        }

        // Initialize price graph
        function initPriceGraph() {
            const graph = document.getElementById('priceGraph');
            const prices = [85, 78, 92, 75, 88, 82, 79];
            const days = ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'];
            
            const maxPrice = Math.max(...prices);
            
            prices.forEach((price, index) => {
                const height = (price / maxPrice) * 100;
                const bar = document.createElement('div');
                bar.className = 'price-bar';
                bar.style.height = height + '%';
                bar.innerHTML = `<div class="price-bar-label">${days[index]}</div>`;
                bar.title = `‚Ç¨${price}`;
                graph.appendChild(bar);
            });
        }

        // Generate Itinerary
        async function generateItinerary() {
            const timeline = document.getElementById('itineraryTimeline');
            timeline.innerHTML = '<div class="loading">GENERATING PERSONALIZED ITINERARY</div>';
            
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            const demoItinerary = [
                { time: 'DAY 1 ‚Ä¢ 09:00', content: 'Arrival at airport and hotel check-in' },
                { time: 'DAY 1 ‚Ä¢ 14:00', content: 'Explore city center and local attractions' },
                { time: 'DAY 1 ‚Ä¢ 19:00', content: 'Dinner at recommended local restaurant' },
                { time: 'DAY 2 ‚Ä¢ 10:00', content: 'Guided city tour with major landmarks' },
                { time: 'DAY 2 ‚Ä¢ 15:00', content: 'Visit museums and cultural sites' },
                { time: 'DAY 2 ‚Ä¢ 20:00', content: 'Evening entertainment and nightlife' },
                { time: 'DAY 3 ‚Ä¢ 11:00', content: 'Hotel checkout and airport departure' }
            ];
            
            timeline.innerHTML = '';
            demoItinerary.forEach(item => {
                const div = document.createElement('div');
                div.className = 'timeline-item';
                div.innerHTML = `
                    <div class="timeline-time">${item.time}</div>
                    <div class="timeline-content">${item.content}</div>
                `;
                timeline.appendChild(div);
            });
            
            addAIMessage('I\'ve created a personalized itinerary for your trip! Feel free to ask me to adjust any activities or add specific interests.');
        }

        // Initialize price graph on load
        setTimeout(initPriceGraph, 500);

        // Restaurant Search
        async function searchRestaurants() {
            const city = document.getElementById('restaurantCity').value.trim();
            const cuisine = document.getElementById('cuisineType').value;
            const priceRange = document.getElementById('priceRange').value;

            if (!city) {
                alert('Please enter a location.');
                return;
            }

            const resultsDiv = document.getElementById('restaurantResults');
            resultsDiv.innerHTML = '<div class="loading">FINDING BEST RESTAURANTS</div>';
            
            document.getElementById('restaurantSearchBtn').disabled = true;

            await new Promise(resolve => setTimeout(resolve, 1500));

            const demoRestaurants = [
                {
                    name: 'Le Petit Bistro',
                    cuisine: 'French Cuisine',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.8',
                    price: '‚Ç¨‚Ç¨‚Ç¨',
                    description: 'Authentic French bistro with seasonal menu and excellent wine selection. Known for their duck confit and cr√®me br√ªl√©e.',
                    location: 'Le Marais District'
                },
                {
                    name: 'Sushi Zen Master',
                    cuisine: 'Japanese Cuisine',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.9',
                    price: '‚Ç¨‚Ç¨‚Ç¨‚Ç¨',
                    description: 'Traditional omakase experience with the freshest fish. Chef Takeshi brings 20 years of Tokyo expertise.',
                    location: 'Opera District'
                },
                {
                    name: 'La Trattoria',
                    cuisine: 'Italian Cuisine',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê 4.6',
                    price: '‚Ç¨‚Ç¨',
                    description: 'Family-run Italian restaurant serving handmade pasta and wood-fired pizzas. Cozy atmosphere.',
                    location: 'Latin Quarter'
                },
                {
                    name: 'Spice Route',
                    cuisine: 'Indian Cuisine',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê 4.7',
                    price: '‚Ç¨‚Ç¨',
                    description: 'Modern Indian cuisine with traditional flavors. Excellent vegetarian options and tandoori specialties.',
                    location: 'Montparnasse'
                },
                {
                    name: 'Green Garden Cafe',
                    cuisine: 'Vegetarian / Vegan',
                    rating: '‚≠ê‚≠ê‚≠ê‚≠ê 4.5',
                    price: '‚Ç¨',
                    description: 'Plant-based paradise with creative dishes. Fresh, organic, and Instagram-worthy presentations.',
                    location: 'Canal Saint-Martin'
                }
            ];

            // Filter by cuisine if selected
            let filteredRestaurants = demoRestaurants;
            if (cuisine) {
                filteredRestaurants = demoRestaurants.filter(r => 
                    r.cuisine.toLowerCase().includes(cuisine)
                );
            }

            displayRestaurants(filteredRestaurants, resultsDiv);
            document.getElementById('restaurantSearchBtn').disabled = false;
            
            addAIMessage(`I found ${filteredRestaurants.length} great restaurants in ${city}! ${cuisine ? `Focusing on ${cuisine} cuisine as requested.` : ''} Would you like recommendations for specific meals or dietary preferences?`);
        }

        function displayRestaurants(restaurants, resultsDiv) {
            if (restaurants.length === 0) {
                resultsDiv.innerHTML = '<div class="error-message">No restaurants found matching your criteria. Try adjusting your filters.</div>';
                return;
            }

            let html = '<div class="restaurant-results">';
            
            restaurants.forEach(restaurant => {
                html += `
                    <div class="restaurant-card">
                        <div class="restaurant-header">
                            <div>
                                <div class="restaurant-name">${restaurant.name}</div>
                                <div class="restaurant-cuisine">üçΩ ${restaurant.cuisine}</div>
                            </div>
                            <div class="restaurant-rating">${restaurant.rating}</div>
                        </div>
                        <div class="restaurant-details">
                            ${restaurant.description}
                            <div style="margin-top: 10px;">üìç ${restaurant.location}</div>
                        </div>
                        <div class="restaurant-price">Price Range: ${restaurant.price}</div>
                        <button class="select-flight-btn" onclick="selectRestaurant('${restaurant.name}')">VIEW DETAILS & RESERVE</button>
                    </div>
                `;
            });
            
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        function selectRestaurant(name) {
            addAIMessage(`Great choice! ${name} is an excellent option. Would you like me to help you make a reservation or find restaurants nearby for other meals during your trip?`);
        }
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Travel Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', 'Courier', monospace;
            background: #0a0a0a;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 100vw;
            margin: 0 auto;
        }

        /* API Config Modal */
        .config-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .config-modal.show {
            display: flex;
        }

        .config-content {
            background: #1a1a1a;
            border: 2px solid #00ff87;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .config-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 32px;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 40px;
            height: 40px;
            transition: all 0.2s ease;
        }

        .config-close:hover {
            color: #00ff87;
            transform: rotate(90deg);
        }

        .config-title {
            font-size: 24px;
            font-weight: 900;
            color: #00ff87;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .config-description {
            color: #888;
            margin-bottom: 30px;
            line-height: 1.6;
            font-size: 13px;
        }

        .config-note {
            background: rgba(96, 239, 255, 0.1);
            border: 1px solid #60efff;
            padding: 15px;
            margin-bottom: 25px;
            font-size: 12px;
            color: #60efff;
            line-height: 1.5;
        }

        .config-note strong {
            color: #60efff;
            display: block;
            margin-bottom: 8px;
        }

        .config-group {
            margin-bottom: 25px;
        }

        .config-label {
            display: block;
            color: #00ff87;
            font-size: 11px;
            font-weight: 900;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .config-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #333;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .config-input:focus {
            outline: none;
            border-color: #00ff87;
        }

        .config-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .config-btn {
            flex: 1;
            padding: 15px;
            background: #00ff87;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .config-btn:hover {
            background: #60efff;
        }

        .config-btn.secondary {
            background: transparent;
            border: 2px solid #333;
            color: #888;
        }

        .config-btn.secondary:hover {
            border-color: #00ff87;
            color: #00ff87;
        }

        .config-link {
            color: #60efff;
            text-decoration: none;
            font-size: 12px;
        }

        .config-link:hover {
            color: #00ff87;
        }

        /* Start Page */
        .start-page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%);
            position: relative;
        }

        .start-page.hidden {
            display: none;
        }

        .logo-large {
            font-size: 72px;
            font-weight: 900;
            letter-spacing: -2px;
            margin-bottom: 20px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #00ff87 0%, #60efff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 18px;
            color: #666;
            margin-bottom: 60px;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 700;
        }

        .intent-container {
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        .intent-input-wrapper {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #00ff87;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .intent-input {
            width: 100%;
            padding: 40px;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 28px;
            font-family: 'Courier New', 'Courier', monospace;
            font-weight: 700;
            resize: none;
            outline: none;
            min-height: 200px;
        }

        .intent-input::placeholder {
            color: #444;
            font-weight: 400;
        }

        .input-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: rgba(0, 0, 0, 0.5);
            border-top: 2px solid #00ff87;
        }

        .voice-btn {
            padding: 15px 30px;
            background: #00ff87;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.2s ease;
            font-family: 'Courier New', 'Courier', monospace;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .voice-btn:hover {
            background: #60efff;
            transform: translateY(-2px);
        }

        .voice-btn.listening {
            animation: pulse-border 1.5s infinite;
            background: #ff0055;
        }

        @keyframes pulse-border {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 0, 85, 0.7); }
            50% { box-shadow: 0 0 0 20px rgba(255, 0, 85, 0); }
        }

        .submit-btn {
            padding: 15px 40px;
            background: transparent;
            border: 2px solid #00ff87;
            color: #00ff87;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.2s ease;
            font-family: 'Courier New', 'Courier', monospace;
        }

        .submit-btn:hover {
            background: #00ff87;
            color: #0a0a0a;
        }

        .suggestions {
            margin-top: 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .suggestion-chip {
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid #333;
            color: #888;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .suggestion-chip:hover {
            border-color: #00ff87;
            color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
        }

        /* Settings Button */
        .settings-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #333;
            color: #888;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            transition: all 0.2s ease;
            z-index: 100;
        }

        .settings-btn:hover {
            border-color: #00ff87;
            color: #00ff87;
        }

        /* Main App */
        .main-app {
            display: none;
            min-height: 100vh;
        }

        .main-app.active {
            display: block;
        }

        .header {
            padding: 30px 40px;
            margin: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #0a0a0a;
            border-bottom: 2px solid #00ff87;
        }

        .logo {
            font-size: 32px;
            font-weight: 900;
            color: #00ff87;
            display: flex;
            align-items: center;
            gap: 15px;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        .ai-badge {
            background: #00ff87;
            padding: 6px 15px;
            font-size: 11px;
            font-weight: 900;
            color: #0a0a0a;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .progress-bar {
            padding: 0;
            margin: 0;
            display: flex;
            gap: 0;
            background: #0a0a0a;
            border-bottom: 1px solid #222;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            padding: 20px;
            color: #444;
            font-weight: 900;
            font-size: 11px;
            position: relative;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-right: 1px solid #222;
        }

        .progress-step:last-child {
            border-right: none;
        }

        .progress-step.active {
            color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
            border-bottom: 3px solid #00ff87;
        }

        .tab-group {
            display: flex;
            gap: 0;
            margin-bottom: 30px;
            border: 2px solid #333;
        }

        .tab {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: #666;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', 'Courier', monospace;
            border-right: 1px solid #333;
        }

        .tab:last-child {
            border-right: none;
        }

        .tab.active {
            background: #00ff87;
            color: #0a0a0a;
        }

        .search-type {
            display: none;
        }

        .search-type.active {
            display: block;
        }

        .hotel-results, .itinerary-view {
            margin-top: 30px;
        }

        .hotel-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid #333;
            padding: 25px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }

        .hotel-card:hover {
            border-color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
        }

        .hotel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .hotel-name {
            font-size: 16px;
            font-weight: 900;
            color: #00ff87;
            text-transform: uppercase;
        }

        .hotel-rating {
            color: #fff;
            font-size: 14px;
        }

        .hotel-details {
            color: #888;
            font-size: 12px;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .hotel-price {
            font-size: 20px;
            font-weight: 900;
            color: #fff;
            margin-top: 15px;
        }

        .price-tracker {
            background: rgba(96, 239, 255, 0.1);
            border: 2px solid #60efff;
            padding: 20px;
            margin-top: 20px;
        }

        .price-tracker-title {
            color: #60efff;
            font-size: 14px;
            font-weight: 900;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .price-graph {
            display: flex;
            align-items: flex-end;
            height: 100px;
            gap: 10px;
            margin-bottom: 15px;
        }

        .price-bar {
            flex: 1;
            background: rgba(96, 239, 255, 0.3);
            border-top: 2px solid #60efff;
            position: relative;
            transition: all 0.3s ease;
        }

        .price-bar:hover {
            background: rgba(96, 239, 255, 0.5);
        }

        .price-bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 10px;
            color: #666;
        }

        .price-alert {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            margin-top: 15px;
        }

        .alert-toggle {
            padding: 10px 20px;
            background: #60efff;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
        }

        .weather-widget {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid #333;
            padding: 20px;
            margin-top: 20px;
        }

        .weather-title {
            color: #00ff87;
            font-size: 14px;
            font-weight: 900;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .weather-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .weather-temp {
            font-size: 48px;
            font-weight: 900;
            color: #fff;
        }

        .weather-desc {
            color: #888;
            font-size: 14px;
            text-transform: uppercase;
        }

        .itinerary-timeline {
            position: relative;
            padding-left: 30px;
        }

        .itinerary-timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #333;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid #333;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 25px;
            width: 10px;
            height: 10px;
            background: #00ff87;
            border: 2px solid #0a0a0a;
        }

        .timeline-time {
            color: #00ff87;
            font-size: 12px;
            font-weight: 900;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeline-content {
            color: #ccc;
            font-size: 13px;
            line-height: 1.6;
        }

        .add-stop-btn {
            width: 100%;
            padding: 15px;
            background: transparent;
            border: 2px dashed #333;
            color: #666;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-top: 15px;
            transition: all 0.2s ease;
        }

        .add-stop-btn:hover {
            border-color: #00ff87;
            color: #00ff87;
        }

        .multi-city-stop {
            background: rgba(255, 255, 255, 0.02);
            border: 2px solid #333;
            padding: 20px;
            margin-bottom: 15px;
        }

        .stop-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stop-number {
            color: #00ff87;
            font-size: 14px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .remove-stop {
            background: transparent;
            border: none;
            color: #ff0055;
            cursor: pointer;
            font-size: 18px;
            font-weight: 900;
        }

        .restaurant-results {
            margin-top: 30px;
        }

        .restaurant-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid #333;
            padding: 25px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }

        .restaurant-card:hover {
            border-color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
        }

        .restaurant-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .restaurant-name {
            font-size: 16px;
            font-weight: 900;
            color: #00ff87;
            text-transform: uppercase;
        }

        .restaurant-rating {
            color: #fff;
            font-size: 14px;
        }

        .restaurant-cuisine {
            color: #60efff;
            font-size: 12px;
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .restaurant-details {
            color: #888;
            font-size: 12px;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .restaurant-price {
            color: #ccc;
            font-size: 14px;
            margin-top: 10px;
        }

        /* Help Modal */
        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }

        .help-modal.show {
            display: flex;
        }

        .help-content {
            background: #1a1a1a;
            border: 2px solid #60efff;
            padding: 40px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .help-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 32px;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 40px;
            height: 40px;
            transition: all 0.2s ease;
        }

        .help-close:hover {
            color: #60efff;
            transform: rotate(90deg);
        }

        .help-title {
            font-size: 28px;
            font-weight: 900;
            color: #60efff;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .help-section {
            margin-bottom: 35px;
        }

        .help-section-title {
            font-size: 18px;
            font-weight: 900;
            color: #00ff87;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .help-text {
            color: #ccc;
            line-height: 1.8;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .help-steps {
            background: rgba(0, 255, 135, 0.05);
            border-left: 3px solid #00ff87;
            padding: 20px;
            margin: 20px 0;
        }

        .help-step {
            color: #ccc;
            font-size: 14px;
            line-height: 1.8;
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
        }

        .help-step::before {
            content: attr(data-num);
            position: absolute;
            left: 0;
            color: #00ff87;
            font-weight: 900;
        }

        .help-link {
            color: #60efff;
            text-decoration: none;
            font-weight: 700;
            border-bottom: 1px dashed #60efff;
        }

        .help-link:hover {
            color: #00ff87;
            border-bottom-color: #00ff87;
        }

        .help-note {
            background: rgba(96, 239, 255, 0.1);
            border: 2px solid #60efff;
            padding: 15px;
            margin: 20px 0;
            font-size: 13px;
            color: #60efff;
            line-height: 1.6;
        }

        .help-note strong {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .help-warning {
            background: rgba(255, 165, 0, 0.1);
            border: 2px solid #ffa500;
            padding: 15px;
            margin: 20px 0;
            font-size: 13px;
            color: #ffa500;
            line-height: 1.6;
        }

        .help-cta {
            width: 100%;
            padding: 18px;
            background: #60efff;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 25px;
            transition: all 0.2s ease;
        }

        .help-cta:hover {
            background: #00ff87;
            transform: translateY(-2px);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            background: #0a0a0a;
        }

        .panel {
            padding: 40px;
            height: fit-content;
            min-height: calc(100vh - 200px);
            border-right: 1px solid #222;
        }

        .panel:last-child {
            border-right: none;
        }

        .panel-title {
            color: #fff;
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            text-transform: uppercase;
            letter-spacing: -1px;
            border-bottom: 2px solid #00ff87;
            padding-bottom: 15px;
        }

        .ai-indicator {
            width: 10px;
            height: 10px;
            background: #00ff87;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #00ff87;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .flight-results {
            margin-top: 30px;
        }

        .flight-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid #333;
            padding: 25px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }

        .flight-card:hover {
            border-color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
        }

        .flight-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }

        .airline {
            font-size: 16px;
            font-weight: 900;
            color: #00ff87;
            text-transform: uppercase;
        }

        .price {
            font-size: 24px;
            font-weight: 900;
            color: #fff;
        }

        .flight-details {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin-bottom: 15px;
        }

        .flight-time {
            font-size: 18px;
            font-weight: 900;
            color: #fff;
        }

        .flight-code {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        .flight-arrow {
            color: #00ff87;
            font-size: 20px;
        }

        .flight-duration {
            text-align: center;
            color: #888;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .flight-info {
            display: flex;
            gap: 20px;
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .select-flight-btn {
            width: 100%;
            padding: 15px;
            background: transparent;
            border: 2px solid #00ff87;
            color: #00ff87;
            font-weight: 900;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-top: 15px;
            transition: all 0.2s ease;
        }

        .select-flight-btn:hover {
            background: #00ff87;
            color: #0a0a0a;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            color: #00ff87;
            font-size: 11px;
            font-weight: 900;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        input, select {
            width: 100%;
            padding: 15px;
            border: 2px solid #333;
            background: rgba(255, 255, 255, 0.02);
            color: #fff;
            font-size: 16px;
            transition: all 0.2s ease;
            font-family: 'Courier New', 'Courier', monospace;
            font-weight: 700;
        }

        input::placeholder {
            color: #444;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #00ff87;
            background: rgba(0, 255, 135, 0.05);
        }

        .date-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .search-btn {
            width: 100%;
            padding: 20px;
            background: #00ff87;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 15px;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-family: 'Courier New', 'Courier', monospace;
        }

        .search-btn:hover {
            background: #60efff;
            transform: translateY(-2px);
        }

        .search-btn:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }

        .chat-container {
            height: 450px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid #222;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message.ai {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 75%;
            padding: 15px 20px;
            font-size: 13px;
            line-height: 1.6;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .message.ai .message-content {
            background: rgba(0, 255, 135, 0.1);
            border-left: 3px solid #00ff87;
            color: #fff;
        }

        .message.user .message-content {
            background: rgba(96, 239, 255, 0.1);
            border-right: 3px solid #60efff;
            color: #fff;
        }

        .chat-input-group {
            display: flex;
            gap: 0;
            border: 2px solid #333;
        }

        .chat-input {
            flex: 1;
            border: none;
            border-right: 2px solid #333;
        }

        .send-btn {
            padding: 15px 30px;
            background: #00ff87;
            border: none;
            color: #0a0a0a;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Courier New', 'Courier', monospace;
            font-size: 12px;
        }

        .send-btn:hover {
            background: #60efff;
        }

        .send-btn:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
        }

        .error-message {
            padding: 20px;
            background: rgba(255, 0, 85, 0.1);
            border: 2px solid #ff0055;
            color: #ff0055;
            font-size: 12px;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .panel {
                border-right: none;
                border-bottom: 1px solid #222;
            }
            .logo-large {
                font-size: 48px;
            }
            .intent-input {
                font-size: 20px;
                padding: 30px;
            }
        }
    </style>
</head>
<body>
    <button class="settings-btn" onclick="showConfig()">‚öô API CONFIG</button>

    <!-- API Configuration Modal -->
    <div class="config-modal" id="configModal">
        <div class="config-content">
            <button class="config-close" onclick="closeConfig()">√ó</button>
            <div class="config-title">‚ö° API Configuration</div>
            <div class="config-description">
                To enable real data, you need just 2 API keys. Both offer generous free tiers perfect for portfolio projects.
            </div>

            <div class="config-note">
                <strong>üí° TIP: Demo Mode Works Without Any Setup!</strong>
                You can use the app immediately in demo mode. Only configure APIs if you want real flight/hotel data.
            </div>
            
            <div class="config-group">
                <label class="config-label">
                    1. Amadeus API Key (Flights, Hotels, Restaurants)
                    <a href="https://developers.amadeus.com/register" target="_blank" class="config-link">(Get Free Key - 2000 calls/month)</a>
                </label>
                <input type="text" class="config-input" id="amadeusKey" placeholder="Your Amadeus API Key">
            </div>

            <div class="config-group">
                <label class="config-label">
                    Amadeus API Secret
                </label>
                <input type="password" class="config-input" id="amadeusSecret" placeholder="Your Amadeus API Secret">
            </div>

            <div class="config-group">
                <label class="config-label">
                    2. OpenAI API Key (AI Chat Assistant)
                    <a href="https://platform.openai.com/api-keys" target="_blank" class="config-link">(Get Key - ~$0.002 per message)</a>
                </label>
                <input type="password" class="config-input" id="openaiKey" placeholder="Your OpenAI API Key">
            </div>

            <div class="config-buttons">
                <button class="config-btn" onclick="saveConfig()">üíæ Save & Enable Real Data</button>
                <button class="config-btn secondary" onclick="closeConfig()">Continue with Demo Mode</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Start Page -->
        <div class="start-page" id="startPage">
            <div class="logo-large">TRAVELAI</div>
            <div class="tagline">AI-Powered Journey Planning</div>
            
            <div class="intent-container">
                <div class="intent-input-wrapper">
                    <textarea 
                        class="intent-input" 
                        id="intentInput" 
                        placeholder="Where do you want to go? Tell me your plans..."
                    ></textarea>
                    <div class="input-actions">
                        <button class="voice-btn" id="voiceBtn" onclick="toggleVoice()">
                            <span id="voiceIcon">üé§</span>
                            <span id="voiceText">SPEAK</span>
                        </button>
                        <button class="submit-btn" onclick="processIntent()">BEGIN ‚Üí</button>
                    </div>
                </div>
                
                <div class="suggestions">
                    <div class="suggestion-chip" onclick="fillIntent('Weekend trip to Paris for two')">Weekend Getaway</div>
                    <div class="suggestion-chip" onclick="fillIntent('Business trip to London next week')">Business Travel</div>
                    <div class="suggestion-chip" onclick="fillIntent('Beach vacation in Bali for 7 days')">Vacation Planning</div>
                    <div class="suggestion-chip" onclick="fillIntent('Multi-city tour: Berlin, Prague, Vienna')">Multi-City Tour</div>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div class="main-app" id="mainApp">
            <div class="header">
                <div class="logo">
                    TRAVELAI
                    <span class="ai-badge" id="modeBadge">DEMO MODE</span>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-step active">NOW BOOKING</div>
                <div class="progress-step">HOTEL</div>
                <div class="progress-step">CONFIRM</div>
                <div class="progress-step">PAYMENT</div>
                <div class="progress-step">COMPLETE</div>
            </div>

            <div class="main-content">
                <!-- Booking Panel -->
                <div class="panel">
                    <div class="panel-title">
                        <div class="ai-indicator"></div>
                        TRAVEL SEARCH
                    </div>

                    <div class="tab-group">
                        <button class="tab active" onclick="switchSearchType('flights')">FLIGHTS</button>
                        <button class="tab" onclick="switchSearchType('hotels')">HOTELS</button>
                        <button class="tab" onclick="switchSearchType('restaurants')">RESTAURANTS</button>
                        <button class="tab" onclick="switchSearchType('multi')">MULTI-CITY</button>
                    </div>

                    <!-- Flights Search -->
                    <div id="flightsSearch" class="search-type active">
                        <div class="form-group">
                            <label class="form-label">FROM</label>
                            <input type="text" id="origin" value="BER" placeholder="AIRPORT CODE (e.g., BER)">
                        </div>

                        <div class="form-group">
                            <label class="form-label">TO</label>
                            <input type="text" id="destination" value="CDG" placeholder="AIRPORT CODE (e.g., CDG)">
                        </div>

                        <div class="form-group">
                            <label class="form-label">DEPARTURE DATE</label>
                            <input type="date" id="departDate" value="2025-11-01">
                        </div>

                        <div class="form-group">
                            <label class="form-label">ADULTS</label>
                            <select id="adults">
                                <option value="1">1 ADULT</option>
                                <option value="2">2 ADULTS</option>
                                <option value="3">3 ADULTS</option>
                                <option value="4">4 ADULTS</option>
                            </select>
                        </div>

                        <button class="search-btn" onclick="searchFlights()" id="searchBtn">SEARCH FLIGHTS</button>

                        <div class="price-tracker">
                            <div class="price-tracker-title">‚ö° PRICE TRACKER</div>
                            <div class="price-graph" id="priceGraph"></div>
                            <div class="price-alert">
                                <span style="color: #ccc; font-size: 12px;">GET ALERTS FOR PRICE DROPS</span>
                                <button class="alert-toggle" onclick="togglePriceAlert()">ENABLE ALERTS</button>
                            </div>
                        </div>

                        <div id="flightResults"></div>
                    </div>

                    <!-- Hotels Search -->
                    <div id="hotelsSearch" class="search-type">
                        <div class="form-group">
                            <label class="form-label">CITY OR HOTEL NAME</label>
                            <input type="text" id="hotelCity" value="Paris" placeholder="ENTER CITY NAME">
                        </div>

                        <div class="form-group">
                            <label class="form-label">CHECK-IN</label>
                            <input type="date" id="checkIn" value="2025-11-01">
                        </div>

                        <div class="form-group">
                            <label class="form-label">CHECK-OUT</label>
                            <input type="date" id="checkOut" value="2025-11-03">
                        </div>

                        <div class="form-group">
                            <label class="form-label">GUESTS</label>
                            <select id="guests">
                                <option value="1">1 GUEST</option>
                                <option value="2">2 GUESTS</option>
                                <option value="3">3 GUESTS</option>
                                <option value="4">4 GUESTS</option>
                            </select>
                        </div>

                        <button class="search-btn" onclick="searchHotels()" id="hotelSearchBtn">SEARCH HOTELS</button>

                        <div id="hotelResults"></div>
                    </div>

                    <!-- Restaurants Search -->
                    <div id="restaurantsSearch" class="search-type">
                        <div class="form-group">
                            <label class="form-label">LOCATION</label>
                            <input type="text" id="restaurantCity" value="Paris" placeholder="CITY OR ADDRESS">
                        </div>

                        <div class="form-group">
                            <label class="form-label">CUISINE TYPE</label>
                            <select id="cuisineType">
                                <option value="">ALL CUISINES</option>
                                <option value="french">FRENCH</option>
                                <option value="italian">ITALIAN</option>
                                <option value="japanese">JAPANESE</option>
                                <option value="indian">INDIAN</option>
                                <option value="mexican">MEXICAN</option>
                                <option value="thai">THAI</option>
                                <option value="vegetarian">VEGETARIAN</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">PRICE RANGE</label>
                            <select id="priceRange">
                                <option value="">ALL PRICES</option>
                                <option value="budget">‚Ç¨ BUDGET FRIENDLY</option>
                                <option value="moderate">‚Ç¨‚Ç¨ MODERATE</option>
                                <option value="upscale">‚Ç¨‚Ç¨‚Ç¨ UPSCALE</option>
                                <option value="fine">‚Ç¨‚Ç¨‚Ç¨‚Ç¨ FINE DINING</option>
                            </select>
                        </div>

                        <button class="search-btn" onclick="searchRestaurants()" id="restaurantSearchBtn">FIND RESTAURANTS</button>

                        <div id="restaurantResults"></div>
                    </div>

                    <!-- Multi-City Search -->
                    <div id="multiSearch" class="search-type">
                        <div id="cityStops">
                            <div class="multi-city-stop">
                                <div class="stop-header">
                                    <div class="stop-number">STOP 1</div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">FROM</label>
                                    <input type="text" class="stop-from" value="BER" placeholder="AIRPORT CODE">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">TO</label>
                                    <input type="text" class="stop-to" value="CDG" placeholder="AIRPORT CODE">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">DATE</label>
                                    <input type="date" class="stop-date" value="2025-11-01">
                                </div>
                            </div>
                        </div>

                        <button class="add-stop-btn" onclick="addCityStop()">+ ADD ANOTHER CITY</button>

                        <button class="search-btn" onclick="searchMultiCity()" id="multiSearchBtn">SEARCH MULTI-CITY</button>

                        <div id="multiResults"></div>
                    </div>
                </div>

                <!-- AI Assistant Panel -->
                <div class="panel">
                    <div class="panel-title">
                        <div class="ai-indicator"></div>
                        AI ASSISTANT
                    </div>

                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="message ai">
                                <div class="message-content">
                                    Hello! I'm your AI travel assistant. I can help you find flights, plan itineraries, and answer any travel questions. How can I help you today?
                                </div>
                            </div>
                        </div>

                        <div class="chat-input-group">
                            <input type="text" class="chat-input" id="chatInput" placeholder="ASK ME ANYTHING...">
                            <button class="send-btn" onclick="sendMessage()" id="sendBtn">SEND</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        let config = {
            amadeusKey: '',
            amadeusSecret: '',
            openaiKey: '',
            amadeusToken: '',
            demoMode: true
        };

        // Load config from localStorage
        const savedConfig = localStorage.getItem('travelAiConfig');
        if (savedConfig) {
            config = { ...config, ...JSON.parse(savedConfig) };
            if (config.amadeusKey && config.openaiKey) {
                config.demoMode = false;
                document.getElementById('modeBadge').textContent = 'AI POWERED';
            }
        }

        // Don't show config modal on first load - let users explore demo mode first

        function showConfig() {
            document.getElementById('configModal').classList.add('show');
            document.getElementById('amadeusKey').value = config.amadeusKey || '';
            document.getElementById('amadeusSecret').value = config.amadeusSecret || '';
            document.getElementById('openaiKey').value = config.openaiKey || '';
        }

        function closeConfig() {
            document.getElementById('configModal').classList.remove('show');
        }

        function saveConfig() {
            config.amadeusKey = document.getElementById('amadeusKey').value.trim();
            config.amadeusSecret = document.getElementById('amadeusSecret').value.trim();
            config.openaiKey = document.getElementById('openaiKey').value.trim();
            
            if (config.amadeusKey && config.amadeusSecret && config.openaiKey) {
                config.demoMode = false;
                localStorage.setItem('travelAiConfig', JSON.stringify(config));
                document.getElementById('modeBadge').textContent = 'AI POWERED';
                closeConfig();
                getAmadeusToken();
                addAIMessage('‚úÖ API keys saved successfully! You now have access to real flight data, hotel search, and enhanced AI chat.');
            } else if (config.amadeusKey && config.amadeusSecret) {
                config.demoMode = false;
                localStorage.setItem('travelAiConfig', JSON.stringify(config));
                document.getElementById('modeBadge').textContent = 'LIVE DATA';
                closeConfig();
                getAmadeusToken();
                addAIMessage('‚úÖ Amadeus API configured! You now have real travel data. Add OpenAI key for enhanced AI chat.');
            } else {
                alert('Please enter at least Amadeus API credentials, or close to continue with Demo Mode.');
            }
        }

        // Get Amadeus access token
        async function getAmadeusToken() {
            if (!config.amadeusKey || !config.amadeusSecret) return;
            
            try {
                const response = await fetch('https://test.api.amadeus.com/v1/security/oauth2/token', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: `grant_type=client_credentials&client_id=${config.amadeusKey}&client_secret=${config.amadeusSecret}`
                });
                
                const data = await response.json();
                if (data.access_token) {
                    config.amadeusToken = data.access_token;
                }
            } catch (error) {
                console.error('Failed to get Amadeus token:', error);
            }
        }

        // Initialize token if we have keys
        if (config.amadeusKey && config.amadeusSecret) {
            getAmadeusToken();
        }

        // Voice recognition
        let recognition;
        let isListening = false;

        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                document.getElementById('intentInput').value = transcript;
            };

            recognition.onend = function() {
                isListening = false;
                document.getElementById('voiceBtn').classList.remove('listening');
                document.getElementById('voiceText').textContent = 'SPEAK';
            };
        }

        function toggleVoice() {
            if (!recognition) {
                alert('Speech recognition is not supported in your browser.');
                return;
            }

            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
                isListening = true;
                document.getElementById('voiceBtn').classList.add('listening');
                document.getElementById('voiceText').textContent = 'LISTENING...';
            }
        }

        function fillIntent(text) {
            document.getElementById('intentInput').value = text;
        }

        // Process natural language intent
        async function processIntent() {
            const intent = document.getElementById('intentInput').value.trim();
            if (!intent) {
                alert('Please tell us about your travel plans!');
                return;
            }

            // Parse intent with AI or basic parsing
            if (!config.demoMode && config.openaiKey) {
                await parseIntentWithAI(intent);
            } else {
                basicIntentParsing(intent);
            }

            document.getElementById('startPage').classList.add('hidden');
            document.getElementById('mainApp').classList.add('active');
        }

        async function parseIntentWithAI(intent) {
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${config.openaiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [{
                            role: 'user',
                            content: `Extract flight search parameters from this travel intent: "${intent}". Return JSON with: origin (airport code), destination (airport code), departDate (YYYY-MM-DD), adults (number). Use best guesses for missing info.`
                        }],
                        temperature: 0.3
                    })
                });

                const data = await response.json();
                const params = JSON.parse(data.choices[0].message.content);
                
                if (params.origin) document.getElementById('origin').value = params.origin;
                if (params.destination) document.getElementById('destination').value = params.destination;
                if (params.departDate) document.getElementById('departDate').value = params.departDate;
                if (params.adults) document.getElementById('adults').value = params.adults;
            } catch (error) {
                console.error('AI parsing failed:', error);
                basicIntentParsing(intent);
            }
        }

        function basicIntentParsing(intent) {
            const lower = intent.toLowerCase();
            
            // Simple city detection
            const cities = {
                'paris': 'CDG', 'london': 'LHR', 'berlin': 'BER',
                'new york': 'JFK', 'tokyo': 'NRT', 'dubai': 'DXB',
                'barcelona': 'BCN', 'rome': 'FCO', 'amsterdam': 'AMS'
            };
            
            for (const [city, code] of Object.entries(cities)) {
                if (lower.includes(city)) {
                    document.getElementById('destination').value = code;
                    break;
                }
            }

            // Simple date detection
            if (lower.includes('next week')) {
                const date = new Date();
                date.setDate(date.getDate() + 7);
                document.getElementById('departDate').value = date.toISOString().split('T')[0];
            } else if (lower.includes('tomorrow')) {
                const date = new Date();
                date.setDate(date.getDate() + 1);
                document.getElementById('departDate').value = date.toISOString().split('T')[0];
            }
        }

        // Search flights
        async function searchFlights() {
            const origin = document.getElementById('origin').value.trim().toUpperCase();
            const destination = document.getElementById('destination').value.trim().toUpperCase();
            const departDate = document.getElementById('departDate').value;
            const adults = document.getElementById('adults').value;

            if (!origin || !destination || !departDate) {
                alert('Please fill in all required fields.');
                return;
            }

            const resultsDiv = document.getElementById('flightResults');
            resultsDiv.innerHTML = '<div class="loading">SEARCHING FLIGHTS</div>';
            
            document.getElementById('searchBtn').disabled = true;

            try {
                if (config.demoMode) {
                    await searchFlightsDemo(origin, destination, departDate, adults, resultsDiv);
                } else {
                    await searchFlightsReal(origin, destination, departDate, adults, resultsDiv);
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error-message">Error: ${error.message}</div>`;
            } finally {
                document.getElementById('searchBtn').disabled = false;
            }
        }

        async function searchFlightsReal(origin, destination, departDate, adults, resultsDiv) {
            if (!config.amadeusToken) {
                await getAmadeusToken();
            }

            const response = await fetch(
                `https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=${origin}&destinationLocationCode=${destination}&departureDate=${departDate}&adults=${adults}&max=5`,
                {
                    headers: {
                        'Authorization': `Bearer ${config.amadeusToken}`
                    }
                }
            );

            if (!response.ok) {
                throw new Error('Failed to fetch flights. Check your API keys in settings.');
            }

            const data = await response.json();
            displayFlights(data.data || [], resultsDiv);
        }

        async function searchFlightsDemo(origin, destination, departDate, adults, resultsDiv) {
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 1500));

            const demoFlights = [
                {
                    airline: 'Lufthansa',
                    flightNumber: 'LH 1234',
                    departure: '09:00',
                    arrival: '11:30',
                    duration: '2h 30m',
                    price: '‚Ç¨149',
                    currency: 'EUR',
                    stops: 'Non-stop',
                    class: 'Economy'
                },
                {
                    airline: 'Air France',
                    flightNumber: 'AF 5678',
                    departure: '14:15',
                    arrival: '16:45',
                    duration: '2h 30m',
                    price: '‚Ç¨175',
                    currency: 'EUR',
                    stops: 'Non-stop',
                    class: 'Economy'
                },
                {
                    airline: 'EasyJet',
                    flightNumber: 'U2 9012',
                    departure: '18:30',
                    arrival: '21:00',
                    duration: '2h 30m',
                    price: '‚Ç¨89',
                    currency: 'EUR',
                    stops: 'Non-stop',
                    class: 'Economy'
                }
            ];

            displayDemoFlights(demoFlights, resultsDiv);
        }

        function displayFlights(flights, resultsDiv) {
            if (!flights.length) {
                resultsDiv.innerHTML = '<div class="error-message">No flights found. Try different dates or airports.</div>';
                return;
            }

            let html = '<div class="flight-results">';
            
            flights.forEach(flight => {
                const segment = flight.itineraries[0].segments[0];
                const price = flight.price.total;
                const currency = flight.price.currency;
                
                html += `
                    <div class="flight-card">
                        <div class="flight-header">
                            <div class="airline">${segment.carrierCode}</div>
                            <div class="price">${currency} ${price}</div>
                        </div>
                        <div class="flight-details">
                            <div>
                                <div class="flight-time">${segment.departure.at.split('T')[1].substring(0, 5)}</div>
                                <div class="flight-code">${segment.departure.iataCode}</div>
                            </div>
                            <div>
                                <div class="flight-arrow">‚Üí</div>
                                <div class="flight-duration">${segment.duration.replace('PT', '').toLowerCase()}</div>
                            </div>
                            <div>
                                <div class="flight-time">${segment.arrival.at.split('T')[1].substring(0, 5)}</div>
                                <div class="flight-code">${segment.arrival.iataCode}</div>
                            </div>
                        </div>
                        <div class="flight-info">
                            <span>Flight ${segment.number}</span>
                            <span>‚Ä¢ ${flight.itineraries[0].segments.length === 1 ? 'Non-stop' : flight.itineraries[0].segments.length + ' stops'}</span>
                        </div>
                        <button class="select-flight-btn" onclick="selectFlight('${segment.carrierCode}', '${price}')">SELECT FLIGHT</button>
                    </div>
                `;
            });
            
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        function displayDemoFlights(flights, resultsDiv) {
            let html = '<div class="flight-results">';
            
            flights.forEach(flight => {
                html += `
                    <div class="flight-card">
                        <div class="flight-header">
                            <div class="airline">${flight.airline}</div>
                            <div class="price">${flight.price}</div>
                        </div>
                        <div class="flight-details">
                            <div>
                                <div class="flight-time">${flight.departure}</div>
                                <div class="flight-code">${document.getElementById('origin').value}</div>
                            </div>
                            <div>
                                <div class="flight-arrow">‚Üí</div>
                                <div class="flight-duration">${flight.duration}</div>
                            </div>
                            <div>
                                <div class="flight-time">${flight.arrival}</div>
                                <div class="flight-code">${document.getElementById('destination').value}</div>
                            </div>
                        </div>
                        <div class="flight-info">
                            <span>${flight.flightNumber}</span>
                            <span>‚Ä¢ ${flight.stops}</span>
                            <span>‚Ä¢ ${flight.class}</span>
                        </div>
                        <button class="select-flight-btn" onclick="selectFlight('${flight.airline}', '${flight.price}')">SELECT FLIGHT</button>
                    </div>
                `;
            });
            
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        function selectFlight(airline, price) {
            addAIMessage(`Great choice! The ${airline} flight for ${price} has been selected. Would you like me to help you find a hotel near your destination?`);
        }

        // Chat functionality
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            document.getElementById('sendBtn').disabled = true;

            if (config.demoMode) {
                await getDemoResponse(message);
            } else {
                await getAIResponse(message);
            }
            
            document.getElementById('sendBtn').disabled = false;
        }

        function addUserMessage(text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addAIMessage(text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        async function getAIResponse(message) {
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${config.openaiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'system',
                                content: 'You are a helpful travel assistant. Provide concise, practical travel advice and help with booking flights, hotels, and planning itineraries.'
                            },
                            {
                                role: 'user',
                                content: message
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 200
                    })
                });

                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                addAIMessage(aiResponse);
            } catch (error) {
                addAIMessage('Sorry, I encountered an error. Please check your API configuration.');
            }
        }

        async function getDemoResponse(message) {
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            const lower = message.toLowerCase();
            let response = '';

            if (lower.includes('hotel')) {
                response = 'I can help you find hotels! Based on your destination, I recommend staying in the city center for easy access to attractions. Would you like me to show you some options?';
            } else if (lower.includes('cheap') || lower.includes('price')) {
                response = 'To find the best prices, I recommend booking 3-6 weeks in advance and being flexible with your travel dates. Tuesday and Wednesday flights are typically cheaper.';
            } else if (lower.includes('car') || lower.includes('rental')) {
                response = 'I can add a car rental to your booking! Most major airports have rental services available. Would you like me to search for options?';
            } else if (lower.includes('cancel')) {
                response = 'I can help with cancellations. Most airlines offer flexible cancellation policies. Would you like me to check the cancellation policy for your selected flight?';
            } else {
                response = 'I\'m here to help with your travel plans! I can assist with finding flights, hotels, car rentals, and creating itineraries. What would you like to know?';
            }

            addAIMessage(response);
        }

        // Enter key for chat
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Enter key for intent
        document.getElementById('intentInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                processIntent();
            }
        });
    </script>
</body>
</html>